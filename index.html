<style>
  /* Tus estilos previos... */
  #resultado {
    counter-reset: step;
  }
  .paso { /* reemplaza tu definición existente */
    position: relative;
    background-color: #f7fbff;
    border: 1px solid #d1e3f0;
    border-radius: 8px;
    padding: 16px 16px 16px 56px;
    margin-top: 16px;
  }
  .paso::before {
    content: counter(step);
    counter-increment: step;
    position: absolute;
    left: 16px;
    top: 50%;
    transform: translateY(-50%);
    width: 32px;
    height: 32px;
    line-height: 32px;
    background-color: #3498db;
    color: white;
    border-radius: 50%;
    text-align: center;
    font-weight: bold;
  }
  .error { /* conserva tu estilo de error */ }
</style>

<script>
  function calcularDerivada() {
    // ... lógica intacta hasta mostrar pasos ...

    resultado.innerHTML += `<div class="paso">Fórmula general:<br>f'(x) = lim₍ₕ→0₎ [f(x+h) − f(x)] / h</div>`;
    resultado.innerHTML += `<div class="paso">f(x) = <strong>${fx_str}</strong></div>`;
    resultado.innerHTML += `<div class="paso">f(x+h) = <strong>${fxh_str}</strong></div>`;
    resultado.innerHTML += `<div class="paso">Diferencia: f(x+h) − f(x) = <strong>${diferencia_str}</strong></div>`;
    resultado.innerHTML += `<div class="paso">Cociente: [f(x+h) − f(x)] / h = <strong>${cociente_str}</strong></div>`;
    resultado.innerHTML += `<div class="paso">Derivada (h→0): f'(x) = <strong>${derivada.toString()}</strong> ✅</div>`;
  }
</script>
